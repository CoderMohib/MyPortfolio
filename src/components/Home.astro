---
import TechCarousel from "./TechCarousel.astro";
---

<section
  id="Home"
  class="flex items-center justify-between gap-14 px-[5%] py-[20px] text-white min-h-[calc(100vh-6rem)] max-[1100px]:flex-col-reverse max-[1100px]:h-auto max-[1100px]:p-[2rem_5%_2rem] max-[1100px]:items-center max-[1100px]:justify-start max-[1100px]:gap-6 max-[1100px]:text-center home section animated activate"
>
  <div
    class="flex flex-col gap-4 flex-1 min-w-0 max-[1100px]:items-center max-[1100px]:w-full max-[1100px]:gap-[8px] home-detail animated-left"
  >
    <div class="flex flex-col max-[1100px]:items-center home-detail-header">
      <h1
        class="font-['Sora',sans-serif] text-[clamp(2.5rem,8vw,4.2rem)] leading-normal font-extrabold max-[1100px]:text-[clamp(2rem,9vw,3.2rem)] max-[1100px]:mb-[0.3rem]"
      >
        Mohib Ali
      </h1>
      <h2
        class="font-['Sora',sans-serif] font-semibold text-[clamp(1.3rem,3.5vw,1.8rem)] text-white/95 flex items-center flex-wrap min-h-12 max-[1100px]:justify-center max-[1100px]:text-[clamp(1rem,4vw,1.6rem)] max-[1100px]:wrap-break-word max-[1100px]:leading-[1.3]"
        id="typing-text"
      >
        Full Stack <span>Developer</span>
      </h2>
    </div>

    <div class="w-[90%] max-[1100px]:w-full summary">
      <p
        class="text-[clamp(0.95rem,2vw,1.2rem)] leading-normal opacity-90 text-left max-[1100px]:text-center max-[1100px]:max-w-[550px] max-[1100px]:text-[0.95rem] max-[1100px]:opacity-85"
      >
        Dedicated Full Stack Engineer specializing in architecting
        high-performance digital ecosystems. From lightning-fast web interfaces
        using Next.js and AstroJS to scalable mobile applications with React
        Native and Expo, I deliver production-ready solutions that bridge the
        gap between sophisticated backend logic and seamless user experiences.
      </p>
    </div>

    <TechCarousel />

    <div
      class="flex items-center gap-[20px] max-[1100px]:justify-center max-[1100px]:mt-2 max-[1100px]:flex-wrap max-[1100px]:gap-4 max-[576px]:flex-col max-[576px]:gap-3 max-[576px]:m-0 download-social"
    >
      <button
        class="inline-block px-6 py-[0.8rem] bg-white border-2 border-white rounded-[2.25rem] text-[#333] font-medium transition-all duration-500 ease-in-out cursor-pointer hover:bg-transparent hover:text-white btn"
        id="download-cv">Download CV</button
      >
      <div
        class="flex items-center gap-[10px] max-[576px]:ml-0 max-[576px]:gap-[12px] social-icons"
      >
        <a
          href="https://github.com/CoderMohib"
          target="_blank"
          class="flex justify-center items-center w-[45px] h-[45px] border-2 border-whitesmoke rounded-full text-[1.5rem] text-white transition-all duration-400 ase-in-out hover:-translate-y-[5px] hover:bg-black max-[576px]:w-[40px] max-[576px]:h-[40px] max-[576px]:text-[1.3rem] github"
          ><i class="fa-brands fa-github"></i></a
        >
        <a
          href="https://www.linkedin.com/in/mohib-ali-80b19b294"
          target="_blank"
          class="flex justify-center items-center w-[45px] h-[45px] border-2 border-whitesmoke rounded-full text-[1.5rem] text-white transition-all duration-400 ase-in-out hover:-translate-y-[5px] hover:bg-[#0077b5] max-[576px]:w-[40px] max-[576px]:h-[40px] max-[576px]:text-[1.3rem] linkedin"
          ><i class="fa-brands fa-linkedin-in"></i></a
        >
        <a
          href="https://wa.me/923244213636?text=Hi Mohib, I saw your portfolio and would like to connect!"
          target="_blank"
          class="flex justify-center items-center w-[45px] h-[45px] border-2 border-whitesmoke rounded-full text-[1.5rem] text-white transition-all duration-400 ase-in-out hover:-translate-y-[5px] hover:bg-[#25d366] hover:border-[#25d366] max-[576px]:w-[40px] max-[576px]:h-[40px] max-[576px]:text-[1.3rem] whatsapp"
          ><i class="fa-brands fa-whatsapp"></i></a
        >
        <a
          href="mailto:alimohib025@gmail.com?subject=Project Inquiry&body=Hi Mohib, I'd like to talk about a project."
          class="flex justify-center items-center w-[45px] h-[45px] border-2 border-whitesmoke rounded-full text-[1.5rem] text-white transition-all duration-400 ase-in-out hover:-translate-y-[5px] hover:bg-[#ea4335] hover:border-[#ea4335] max-[576px]:w-[40px] max-[576px]:h-[40px] max-[576px]:text-[1.3rem]  gmail"
          ><i class="fa-solid fa-envelope"></i></a
        >
      </div>
    </div>
  </div>
  <div class="shrink-0 home-img animated-right">
    <div
      class="relative w-[clamp(250px,30vw,450px)] h-[clamp(250px,30vw,450px)] border-2 border-whitesmoke rounded-full shadow-[0_0_12px_whitesmoke] overflow-hidden flex justify-center items-center max-[1100px]:w-[clamp(200px,50vw,320px)] max-[1100px]:h-[clamp(200px,50vw,320px)] max-[1100px]:shadow-[0_0_15px_rgba(255,255,255,0.2)] image-box"
    >
      <img
        src="/Assets/mohib.png"
        alt="Mohib Ali"
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 block object-cover w-full h-full object-top"
      />
    </div>
  </div>
</section>

<script>
  // Typing animation
  const typingTextElement = document.getElementById("typing-text");
  const phrases = [
    "Full Stack Developer | MERN + Django",
    "Next.js & Astro Modern Web Apps",
    "React Native Mobile App Developer",
    "REST APIs | Firebase | Scalable Databases",
  ];
  let phraseIndex = 0;
  let charIndex = 0;
  let isDeleting = false;
  let typingSpeed = 100;

  function type() {
    if (!typingTextElement) return;
    const currentPhrase = phrases[phraseIndex];

    if (isDeleting) {
      typingTextElement.innerHTML =
        currentPhrase.substring(0, charIndex - 1) +
        '<span class="typed-cursor">|</span>';
      charIndex--;
      typingSpeed = 50;
    } else {
      typingTextElement.innerHTML =
        currentPhrase.substring(0, charIndex + 1) +
        '<span class="typed-cursor">|</span>';
      charIndex++;
      typingSpeed = 150;
    }

    if (!isDeleting && charIndex === currentPhrase.length) {
      isDeleting = true;
      typingSpeed = 2000;
    } else if (isDeleting && charIndex === 0) {
      isDeleting = false;
      phraseIndex = (phraseIndex + 1) % phrases.length;
      typingSpeed = 500;
    }

    setTimeout(type, typingSpeed);
  }

  document.addEventListener("DOMContentLoaded", () => {
    if (typingTextElement) {
      typingTextElement.innerHTML = '<span class="typed-cursor">|</span>';
      setTimeout(type, 1000);
    }
  });

  // Resume download
  const downloadBtn = document.getElementById("download-cv");
  if (downloadBtn) {
    downloadBtn.addEventListener("click", () => {
      const link = document.createElement("a");
      link.href = "/Assets/MohibResume.pdf";
      link.download = "MohibResume.pdf";
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    });
  }
</script>
